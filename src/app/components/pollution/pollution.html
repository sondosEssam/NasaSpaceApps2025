<div class="p-8 mx-auto  w-90">
  <h1 class="text-2xl font-bold text-center text-gray-600">Pollution Data And Weather Data</h1>
    <!-- time range -->
    <div class="flex flex-col sm:flex-row gap-4 mb-8">
    <label class="text-sm font-medium text-gray-700">Time Range:</label>
    <select [(ngModel)]="selectedTimeRange" (change)="onTimeChange()" class="border rounded-md p-2">
      <option value="daily">Daily (by Hours)</option>
      <option value="weekly">Weekly (by Days)</option>
      <option value="monthly">Monthly (by Days)</option>
    </select>
    </div>
    <!-- current time display -->
     <div class="p-3 rounded-lg mb-6">
        <p class="text-sm text-blue-800">
            <strong>Current View:</strong> {{ getTimeRangeDisplayName() }}
            {{filteredPollutionData.length}} records
        </p>
     </div>
     <!-- key metrics display -->

     <app-key-metrices [filteredPollutionData]="filteredPollutionData" [filteredWeatherData]="filteredWeatherData" (keyMetricsChange)="handleKeyMetricsChange($event)"></app-key-metrices>






     
    <!--  charts -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">

<!-- pollution chart -->
 <!-- half trasparent background with tailwind -->
 <div class="bg-gray-50 bg-opacity-90 p-6 rounded-lg shadow-sm ">
    <h2 class="text-xl font-semibold mb-4  text-gray-800">Pollution Chart</h2>
    <div class="h-80 flex flex-col align-center justify-center">
        <div style="display: block;">
          <canvas
            baseChart
            [data]="pollutionChartData"
            [options]="pollutionChartOptions"
            [type]="'line'">
          </canvas>
        </div>
    </div>
 </div>

 <!-- weather chart -->
 <div class=" bg-gray-50 bg-opacity-90 p-6 rounded-lg shadow-sm">
    <h2 class="text-xl font-semibold mb-4 text-gray-800">Weather Chart</h2>
    <div class="h-80 flex flex-col align-center justify-center">
        <div style="display: block;">
          <canvas
            baseChart
            [data]="weatherChartData"
            [options]="weatherChartOptions"
            [type]="'line'">
          </canvas>
        </div>
    </div>
 </div>
</div>

<!-- data summary -->
  <div class="bg-green-50 p-4 rounded-lg">
    <h3 class="font-semibold text-green-800">Data Summary</h3>
    <p>Pollution records: {{ pollutionData.length }}</p>
    <p>Weather records: {{ weatherData.length }}</p>
    <p>showing: {{ filteredPollutionData.length }} pollution records and {{ filteredWeatherData.length }} weather records</p>
    <p>time range: {{ selectedTimeRange }}</p>
  </div>


</div>
